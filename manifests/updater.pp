class sunet::updater($cosmos_automatic_reboot = false, $cron = false) {
   file {'/usr/local/sbin/silent-update-and-upgrade':
      content => "#!/bin/bash\napt-get -qq -y update && env DEBIAN_FRONTEND='noninteractive' apt-get -y -o Dpkg::Options::='--force-confnew' upgrade\n",
      mode    => '0755',
      owner   => 'root',
      group   => 'root'
   }
   if ($cosmos_automatic_reboot) {
      file {'/etc/cosmos-automatic-reboot': 
         content => "# generated by sunet::updater - do not edit or remove by hand"
      }
   } else {
      file {'/etc/cosmos-automatic-reboot': ensure => absent }
   }
   if ($cron) {
      sunet::scriptherder::cronjob { 'update_and_upgrade':
         cmd           => '/usr/local/sbin/silent-update-and-upgrade',
         minute        => '2',
         hour          => '4',
         ok_criteria   => ['max_age=25h'],
         warn_criteria => ['max_age=49h'],
      }
   }
}
