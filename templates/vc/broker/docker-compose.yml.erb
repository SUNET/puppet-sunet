---
version: "3.3"

services:
  vc_broker:
    container_name: "vc_broker"
    image: "emqx:5.4.0"
    restart: always
    volumes:
      - /var/log/sunet:/opt/emqx/log/
      - broker_data:/opt/emqx/data
    ports:
      - 1883:1883 
      - 8083:8083
      - 8084:8084 
      - 8883:8883
      - 18083:18083 
    environment:
    #- "EMQX_NODE_NAME=emqx@node1.emqx.io"
    #- "EMQX_CLUSTER__DISCOVERY_STRATEGY=static"
    #- "EMQX_CLUSTER__STATIC__SEEDS=[emqx@node1.emqx.io,emqx@node2.emqx.io]"

networks:
  default:
    driver_opts:
      com.docker.network.bridge.name: br-vc_broker

volumes:
  broker_data:
